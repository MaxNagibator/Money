<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            @MudDialog.Title
        </MudText>
    </TitleContent>
    <DialogContent>
        <MudForm  Validation="@(categoryDialogValidator.ValidateValue)" ValidationDelay="0" @ref="MudForm">
            <MudStack Spacing="3">
                <MudTextField @bind-Value="@Category.Name"
                              Clearable
                              HelperText="Название категории"
                              Label="Наименование"
                              Variant="Variant.Text"
                              RequiredError="Категория обязательна"
                              Required AutoGrow/>

                <MudNumericField @bind-Value="@Category.Order"
                                 DebounceInterval="500"
                                 HelperText="Больше -> выше"
                                 Label="Значение для сортировки"/>

                <MudStack Spacing="0">
                    <MudText Typo="Typo.subtitle2">Цвет</MudText>
                    <MudColorPicker @bind-Text="@Category.Color"
                                    ColorPickerMode="ColorPickerMode.HEX"
                                    PickerVariant="PickerVariant.Static"
                                    Rounded
                                    ShowAlpha
                                    ShowColorField
                                    ShowInputs
                                    ShowModeSwitch
                                    ShowPreview
                                    ShowSliders
                                    ShowToolbar/>
                </MudStack>
            </MudStack>
        </MudForm>
       
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Отмена</MudButton>
        <MudButton Color="Color.Success"
                   Disabled="@_isProcessing"
                   OnClick="SaveAsync">
            @if (_isProcessing)
            {
                <MudProgressCircular Class="ms-n1"
                                     Size="Size.Small"
                                     Indeterminate="true" />
            }
            else
            {
                <MudText Typo="Typo.button">Сохранить</MudText>
            }
        </MudButton>
    </DialogActions>
</MudDialog>
